/* ===== D8 Theme (desktop Canal-like / mobile Netflix-like) ===== */
:root{
  --bg:#0b0b0b;
  --bg-soft:#111;
  --text:#fff;
  --muted:#cfcfcf;
  --accent:#ff2f57;   /* rouge/rose moderne */
  --accent-2:#ff4b7a;
  --card:#151515;
  --border:#272727;
  --shadow:0 10px 30px rgba(0,0,0,.35);

  /* Canal-like header / hero overlay */
  --canal-header:#0b0b0b;
  --canal-overlay:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.75) 70%);

  /* Netflix-like bottom bar height */
  --bar:64px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* ===== Utilities ===== */
.hidden{display:none}
.muted{color:var(--muted)}
.btn{
  appearance:none; border:0; cursor:pointer; font-weight:700;
  padding:.85rem 1.15rem; border-radius:999px; transition:transform .12s ease, box-shadow .12s ease, background .2s ease;
}
.btn-primary{ background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#fff; box-shadow:var(--shadow) }
.btn-primary:hover{ transform:translateY(-1px) }
.btn-ghost{ background:transparent; color:#fff; border:1px solid var(--border) }
.btn-ghost:hover{ background:#1b1b1b }
.icon-btn{
  width:40px;height:40px;border-radius:999px;border:1px solid var(--border);
  display:grid;place-items:center;background:#141414;color:#fff;cursor:pointer
}
.label{display:block;margin:.25rem 0 .5rem .25rem;color:var(--muted);font-size:.95rem}
.input,.select{
  width:100%;padding:.9rem 1rem;border-radius:12px;border:1px solid var(--border);
  background:#0f0f0f;color:#fff;outline:none
}
.input:focus,.select:focus{border-color:var(--accent)}

/* ===== Loader ===== */
.loader{
  position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.55);
  backdrop-filter:blur(3px);z-index:100;opacity:0;pointer-events:none;transition:opacity .25s ease
}
.loader.show{opacity:1;pointer-events:auto}
.spinner{
  width:44px;height:44px;border:4px solid rgba(255,255,255,.2);
  border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:10px
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== Back toast ===== */
.back-toast{
  position:fixed;left:16px;bottom:calc(var(--bar) + 12px);
  background:rgba(0,0,0,.8);border:1px solid var(--border);backdrop-filter:blur(6px);
  color:#fff;padding:.5rem .75rem;border-radius:999px;display:flex;align-items:center;gap:.5rem;
  z-index:60;opacity:0;transform:translateY(8px);transition:all .25s ease
}
.back-toast.show{opacity:1;transform:translateY(0)}
.btn-ghost{padding:.45rem .65rem}

/* ===== Topbar (Canal-like desktop) ===== */
.topbar{
  position:sticky;top:0;z-index:50;height:64px;background:var(--canal-header);
  display:flex;align-items:center;justify-content:space-between;padding:0 16px;border-bottom:1px solid rgba(255,255,255,.06)
}
.topbar .left{display:flex;align-items:center;gap:14px}
.brand-logo{
  height:28px; aspect-ratio:4/1; object-fit:contain; filter:drop-shadow(0 2px 8px rgba(0,0,0,.4));
}
/* Réduction nette (≈ 60–70% taille source) */
.brand-logo{ transform:scale(.6); transform-origin:left center }

.nav{display:flex;gap:18px;margin-left:6px}
.nav-link{
  color:#f1f1f1;text-decoration:none;font-weight:700;letter-spacing:.02em;font-size:.95rem;
  padding:.45rem .65rem;border-radius:10px;transition:background .2s ease, color .2s ease, transform .12s ease
}
.nav-link:hover{ background:#1a1a1a }
.nav-link.active{ background:#fff; color:#000 }

/* Right bloc */
.right{display:flex;align-items:center;gap:10px}
.avatar{
  width:34px;height:34px;border-radius:50%;display:grid;place-items:center;background:#222;color:#fff;
  border:1px solid var(--border);font-weight:800
}

/* ===== Hero (photo + grand texte) ===== */
.hero{
  position:relative;min-height:66vh;display:grid;place-items:end start;
  background:
          var(--canal-overlay),
            /* place une photo si disponible à assets/img/hero.jpg, sinon gradient */
          url("../img/hero.jpg") center/cover no-repeat,
          radial-gradient(1200px 500px at 70% -10%, #2b2b2b 0%, #0b0b0b 60%, #0b0b0b 100%);
}
.hero-overlay{
  padding:8vh 6vw 6vh;max-width:900px
}
.hero h1{
  margin:0 0 10px 0;font-size:clamp(1.6rem,4vw,3rem);line-height:1.1;
  text-shadow:0 6px 30px rgba(0,0,0,.6)
}
.hero .muted{margin:0 0 20px 2px}
.hero-actions{display:flex;gap:12px;flex-wrap:wrap}

/* ===== Content rails ===== */
.content{padding:20px 16px 96px;max-width:1400px;margin:0 auto}
.rail{margin:12px 0 26px}
.rail-title{margin:0 0 10px 6px;font-size:1.15rem}
.cards{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(160px,1fr);gap:12px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:8px}
.card{scroll-snap-align:start;background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);overflow:hidden;position:relative;transition:transform .15s ease, box-shadow .15s ease}
.card:hover{transform:translateY(-4px)}
.card .thumb{height:180px;background:linear-gradient(135deg,#2a2a2a,#1b1b1b)}
.card.tall .thumb{height:240px}
.shimmer .thumb{
  background:linear-gradient(90deg,#202020 25%,#2a2a2a 37%,#202020 63%);
  background-size:400% 100%;animation:shimmer 1.2s infinite
}
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:0 0}}

/* ===== Bottom nav (Netflix-like mobile) ===== */
.bottom-nav{
  position:fixed;left:0;right:0;bottom:0;height:var(--bar);z-index:40;
  display:flex;justify-content:space-around;align-items:center;background:#0b0b0b;border-top:1px solid var(--border)
}
.tab{display:flex;flex-direction:column;gap:4px;align-items:center;justify-content:center;text-decoration:none;color:#cfcfcf;font-size:.8rem}
.tab .ico{font-size:1.2rem;line-height:1}
.tab.active,.tab:active{color:#fff}
.mobile-only{display:none}
.desktop-only{display:flex}

/* ===== Onboarding ===== */
.onboard{border:none;border-radius:20px;padding:0;background:transparent}
.onboard::backdrop{background:rgba(0,0,0,.6);backdrop-filter:blur(3px)}
.onboard-body{
  width:min(560px,90vw);background:#0e0e0e;border:1px solid var(--border);border-radius:20px;padding:18px 18px 10px;
  box-shadow:var(--shadow)
}
.onboard-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.logo-small{height:24px}
.ob-step{display:none}
.ob-step.active{display:block;animation:fadeIn .18s ease}
.actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
.ob-foot{margin:.5rem 0 0;color:#9a9a9a;font-size:.85rem}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* ===== Responsive ===== */
@media (max-width: 860px){
  .desktop-only{display:none}
  .mobile-only{display:flex}
  .content{padding:16px 10px calc(var(--bar) + 18px)}
  .hero{min-height:54vh; background:
          linear-gradient(180deg, rgba(0,0,0,.1), rgba(0,0,0,.9) 70%),
          radial-gradient(1200px 500px at 70% -10%, #1f1f1f 0%, #0b0b0b 60%, #0b0b0b 100%);
  }
  .hero-actions{gap:10px}
}

/* ===== Focus visible ===== */
:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
