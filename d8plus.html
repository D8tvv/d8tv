<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D8+ - Portail de recherche</title>
    <link rel="icon" type="image/png" href="assets/img/D8.png">
    <link rel="shortcut icon" type="image/png" href="assets/img/D8.png">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--primary-black:#000;--primary-white:#fff;--primary-red:#e50914;--accent-pink:#ff1744;--gradient-red:linear-gradient(135deg,#e50914,#ff1744);--shadow:0 4px 20px rgba(229,9,20,.3)}
        body{font-family:'Helvetica Neue',Arial,sans-serif;background:var(--primary-black);color:var(--primary-white);overflow-x:hidden;position:relative;min-height:100vh}

        .loading-screen{position:fixed;inset:0;background:#000;display:flex;justify-content:center;align-items:center;z-index:10000;transition:opacity .5s}
        .loading-screen.hide{opacity:0;pointer-events:none}
        .loader{width:60px;height:60px;border:3px solid transparent;border-top-color:var(--accent-pink);border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}

        .header{position:fixed;top:0;width:100%;padding:20px 50px;background:linear-gradient(to bottom,rgba(0,0,0,.95),rgba(0,0,0,.7));z-index:1000;transition:all .3s;backdrop-filter:blur(10px)}
        .header.scrolled{background:rgba(0,0,0,.98);padding:15px 50px}
        .nav-container{display:flex;justify-content:space-between;align-items:center}
        .logo{height:50px;display:flex;align-items:center;gap:10px;font-size:36px;font-weight:bold;background:var(--gradient-red);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:logoGlow 3s infinite;cursor:pointer}
        .logo-img{height:50px;width:auto;filter:drop-shadow(0 0 10px rgba(229,9,20,.5));animation:logoGlow 3s infinite}
        @keyframes logoGlow{0%,100%{filter:brightness(1) drop-shadow(0 0 10px rgba(229,9,20,.5))}50%{filter:brightness(1.2) drop-shadow(0 0 20px rgba(229,9,20,.8))}}
        .nav-menu{display:flex;gap:30px;list-style:none}
        .nav-item{color:#ccc;cursor:pointer;transition:all .3s;position:relative;font-size:16px;padding:5px 10px;text-decoration:none}
        .nav-item:hover{color:white;transform:translateY(-2px)}
        .nav-item.active{color:var(--accent-pink)}
        .nav-item::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:var(--gradient-red);transition:width .3s}
        .nav-item.active::after,.nav-item:hover::after{width:100%}
        .user-profile{display:flex;align-items:center;gap:10px;padding:8px 15px;background:rgba(255,255,255,.1);border-radius:25px;cursor:pointer;transition:all .3s}
        .user-profile:hover{background:rgba(229,9,20,.3)}
        .user-avatar{width:35px;height:35px;border-radius:50%;background:var(--gradient-red);display:flex;align-items:center;justify-content:center;font-weight:bold}

        .main-content{padding-top:120px;min-height:100vh;padding-bottom:50px;display:flex;flex-direction:column;align-items:center;justify-content:center}

        /* Search Portal Styles */
        .search-portal{max-width:800px;width:100%;padding:20px;text-align:center}

        .portal-title{font-size:48px;margin-bottom:50px;background:var(--gradient-red);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:bold;animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.8}}

        .search-container{position:relative;margin-bottom:30px;transition:all .5s ease}

        .search-box{width:100%;padding:20px 25px;font-size:18px;border:none;border-radius:50px;background:rgba(255,255,255,.1);color:var(--primary-white);outline:none;transition:all .3s;backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.2)}
        .search-box:focus{box-shadow:0 0 30px rgba(229,9,20,.4);border-color:var(--accent-pink);transform:scale(1.02)}
        .search-box::placeholder{color:#ccc;font-size:16px}

        .search-buttons{display:flex;gap:20px;justify-content:center;margin-top:20px;transition:all .5s ease}

        .search-btn{padding:15px 30px;border:none;border-radius:50px;font-size:16px;font-weight:bold;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}

        .search-btn.primary{background:var(--primary-red);color:white}
        .search-btn.primary:hover{background:var(--accent-pink);transform:translateY(-2px);box-shadow:var(--shadow)}

        .search-btn.secondary{background:#666;color:white}
        .search-btn.secondary:hover{background:#777;transform:translateY(-2px)}

        .search-btn.ai-active{background:var(--gradient-red);color:white;animation:aiPulse 2s infinite}
        @keyframes aiPulse{0%,100%{box-shadow:0 0 20px rgba(229,9,20,.3)}50%{box-shadow:0 0 40px rgba(229,9,20,.6)}}

        /* Chatbot Styles */
        .chatbot-container{display:none;width:100%;max-width:1200px;min-height:600px;background:rgba(0,0,0,.8);border-radius:20px;border:2px solid var(--accent-pink);backdrop-filter:blur(20px);padding:20px;animation:chatbotSlideIn .5s ease}
        .chatbot-container.active{display:block}

        @keyframes chatbotSlideIn{
            from{opacity:0;transform:translateY(-30px) scale(.9)}
            to{opacity:1;transform:translateY(0) scale(1)}
        }

        .chatbot-header{text-align:center;padding:20px;border-bottom:1px solid rgba(255,255,255,.2);margin-bottom:20px}
        .chatbot-title{font-size:24px;background:var(--gradient-red);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:bold}

        /* Info Section Styles */
        .info-section{margin-top:40px;background:rgba(200,200,200,0.15);backdrop-filter:blur(15px);border-radius:25px;padding:25px;border:1px solid rgba(255,255,255,0.1);animation:slideUp .8s ease}

        .greeting-title{font-size:24px;font-weight:bold;background:var(--gradient-red);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:20px;text-align:center}

        .info-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}

        .time-widget,.weather-widget{background:rgba(0,0,0,0.3);border-radius:15px;padding:15px;text-align:center}

        .time-display{font-size:28px;font-weight:bold;color:var(--accent-pink);margin-bottom:5px}
        .date-display{font-size:14px;color:#ccc}

        .weather-widget iframe{border-radius:10px}

        .sports-widget{background:rgba(0,0,0,0.3);border-radius:15px;padding:15px;margin-top:0}

        @keyframes slideUp{
            from{opacity:0;transform:translateY(30px)}
            to{opacity:1;transform:translateY(0)}
        }

        /* Bottom Bar Mobile */
        .bottom-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(0,0,0,.95);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,.1);z-index:1000;display:none}
        .bottom-nav{display:flex;justify-content:space-around;padding:10px 0}
        .bottom-nav-item{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#666;transition:all .3s;padding:8px}
        .bottom-nav-item.active{color:var(--accent-pink)}
        .bottom-nav-item:hover{color:white;transform:translateY(-2px)}
        .bottom-nav-icon{font-size:20px;margin-bottom:4px}
        .bottom-nav-text{font-size:11px;font-weight:600}

        /* Hide elements when chatbot is active */
        .search-container.hidden,
        .search-buttons.hidden{opacity:0;transform:scale(.8);pointer-events:none}
        .info-section.hidden{opacity:0;transform:scale(.8);pointer-events:none;transition:all .5s ease}

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header{padding:15px 20px}
            .nav-menu{display:none}
            .portal-title{font-size:32px;margin-bottom:30px}
            .search-box{padding:18px 20px;font-size:16px}
            .search-buttons{flex-direction:column;align-items:center}
            .search-btn{width:200px}
            .main-content{padding-top:100px;padding-bottom:80px}
            .bottom-bar{display:block}
            .info-grid{grid-template-columns:1fr;gap:15px}
            .time-display{font-size:24px}
            .chatbot-container{min-height:500px;margin-bottom:20px}
        }
    </style>
</head>
<body>
    <div class="loading-screen">
        <div class="loader"></div>
    </div>

    <header class="header">
        <nav class="nav-container">
            <div class="logo" onclick="location.href='index.html'">
                <img src="assets/img/D8.png" alt="D8 Logo" class="logo-img">
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-item">Accueil</a></li>
                <li><a href="tv.html" class="nav-item">TV Direct</a></li>
                <li><a href="d8plus.html" class="nav-item active">D8+</a></li>
            </ul>
            <div class="user-profile" id="userProfile">
                <div class="user-avatar" id="userAvatar">U</div>
                <span id="userName">Utilisateur</span>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div class="search-portal">
            <h1 class="portal-title">IntelliSearch</h1>
            <p style="color: #ccc; margin-bottom: 40px;">Powered by Intelli</p>

            <div class="search-container" id="searchContainer">
                <input type="text" class="search-box" id="searchBox" placeholder="Rechercher sur le Web avec IntelliSearch">
            </div>

            <div class="search-buttons" id="searchButtons">
                <button class="search-btn primary" id="searchBtn" onclick="performSearch()">Rechercher</button>
                <button class="search-btn secondary" id="aiBtn" onclick="toggleAI()">Intelli AI</button>
            </div>

            <div class="chatbot-container" id="chatbotContainer">
                <div class="chatbot-header">
                    <h2 class="chatbot-title">🤖 Intelli AI </h2>
                    <p style="color: #ccc; margin-top: 10px;">L'Assistant intelligent par Intelli</p>
                </div>
                <iframe
                    src="https://www.chatbase.co/chatbot-iframe/GGx4M0mhNx0UfI8FOOJ8j"
                    width="100%"
                    style="height: 100%; min-height: 650px; border: none; border-radius: 10px;"
                    frameborder="0"
                ></iframe>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="search-btn secondary" onclick="toggleAI()">← Retour à IntelliSearch</button>
                </div>
            </div>

            <div class="info-section" id="infoSection">
                <div class="greeting-title" id="greetingTitle">Bienvenue sur D8+</div>
                <div class="info-grid">
                    <div class="time-widget">
                        <div class="time-display" id="currentTime">00:00</div>
                        <div class="date-display" id="currentDate">1 Jan 1970</div>
                    </div>
                    <div class="weather-widget">
                        <iframe src="https://emb.fouita.com/widget/0x302717/ft456m6x8"
                            title="Today Weather" width="100%" height="200" frameborder="0"
                            style="border-radius: 10px;">
                        </iframe>
                    </div>
                </div>
                <div class="sports-widget">
                    <h4 style="color: #ccc; margin-bottom: 10px; text-align: center;">Matchs du jour</h4>
                    <api-sports-widget data-type="games"></api-sports-widget>
                    <api-sports-widget
                        data-type="config"
                        data-key="Your-Api-Key-Here"
                        data-sport="football"
                        data-refresh="60"
                        data-show-logos="true">
                    </api-sports-widget>
                </div>
            </div>
        </div>
    </main>

    <div class="bottom-bar" id="bottomBar">
        <div class="bottom-nav">
            <a href="index.html" class="bottom-nav-item">
                <div class="bottom-nav-icon">🏠</div>
                <div class="bottom-nav-text">Accueil</div>
            </a>
            <a href="tv.html" class="bottom-nav-item">
                <div class="bottom-nav-icon">📺</div>
                <div class="bottom-nav-text">TV Direct</div>
            </a>
            <a href="d8plus.html" class="bottom-nav-item active">
                <div class="bottom-nav-icon">⭐</div>
                <div class="bottom-nav-text">D8+</div>
            </a>
        </div>
    </div>

    <script type="module" src="https://widgets.api-sports.io/3.1.0/widgets.js"></script>
    <script>
        // Loading screen
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.querySelector('.loading-screen').classList.add('hide');
            }, 1000);
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // User management and greeting
        function updateGreeting() {
            const userData = JSON.parse(localStorage.getItem('d8User') || '{}');
            const username = userData.username || 'Utilisateur';
            const now = new Date();
            const hour = now.getHours();

            let greeting = '';

            if (hour >= 5 && hour < 8) {
                greeting = `Bon réveil, ${username} !`;
            } else if (hour >= 8 && hour < 12) {
                greeting = `Bonjour, ${username} !`;
            } else if (hour >= 12 && hour < 14) {
                greeting = `Bon appétit, ${username} !`;
            } else if (hour >= 14 && hour < 18) {
                greeting = `Bon après-midi, ${username} !`;
            } else if (hour >= 18 && hour < 22) {
                greeting = `Bonne soirée, ${username} !`;
            } else {
                greeting = `Bonne nuit, ${username} !`;
            }

            document.getElementById('greetingTitle').textContent = greeting;

            // Update user profile
            if (userData.username) {
                document.getElementById('userName').textContent = userData.username;
                document.getElementById('userAvatar').textContent = userData.username.charAt(0).toUpperCase();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateGreeting();
            // Update greeting every minute
            setInterval(updateGreeting, 60000);
        });

        // Search functionality
        function performSearch() {
            const query = document.getElementById('searchBox').value.trim();
            if (query) {
                // Open Google search in new tab
                window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
            }
        }

        // Enter key for search
        document.getElementById('searchBox').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // AI Toggle functionality
        let aiActive = false;

        function toggleAI() {
            const searchContainer = document.getElementById('searchContainer');
            const searchButtons = document.getElementById('searchButtons');
            const chatbotContainer = document.getElementById('chatbotContainer');
            const infoSection = document.getElementById('infoSection');
            const aiBtn = document.getElementById('aiBtn');

            if (!aiActive) {
                // Activate AI mode
                aiActive = true;

                // Hide search elements and info section with animation
                searchContainer.classList.add('hidden');
                searchButtons.classList.add('hidden');
                infoSection.classList.add('hidden');

                setTimeout(() => {
                    // Show chatbot container
                    chatbotContainer.classList.add('active');
                }, 500);

                aiBtn.textContent = 'IntelliSearch';
                aiBtn.classList.add('ai-active');

            } else {
                // Deactivate AI mode
                aiActive = false;

                // Hide chatbot with animation
                chatbotContainer.classList.remove('active');

                setTimeout(() => {
                    // Show search elements and info section
                    searchContainer.classList.remove('hidden');
                    searchButtons.classList.remove('hidden');
                    infoSection.classList.remove('hidden');
                }, 200);

                aiBtn.textContent = 'Intelli AI';
                aiBtn.classList.remove('ai-active');
            }
        }

        // User profile click
        document.getElementById('userProfile').addEventListener('click', () => {
            // Could redirect to profile page or show dropdown
            console.log('User profile clicked');
        });

        // Time and Date Display
        function updateTimeAndDate() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: false };
            const dateOptions = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };

            const time = now.toLocaleString('fr-FR', timeOptions);
            const date = now.toLocaleString('fr-FR', dateOptions);

            document.getElementById('currentTime').textContent = time;
            document.getElementById('currentDate').textContent = date;
        }

        setInterval(updateTimeAndDate, 1000);
        updateTimeAndDate();
    </script>
</body>
</html>
